#!/bin/bash

# notify and run script

_usage(){
cat << EOS
usage:
  nrun command [option...]

script that wraps a command and sends a notification depending on the exit code
EOS
  exit 1
}

if [ -z "$*" ]; then
  _usage
fi

$*

exit_code=$?

if [ ${exit_code} -eq 0 ]; then
  result='Success'
else
  result='Failed'
fi

notify "$*" "${result}"
