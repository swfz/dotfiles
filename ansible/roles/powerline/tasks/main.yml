---
- name: upgrade pip
  pip: name=pip

- name: install powerline  # noqa no-changed-when
  # FIXME not idempotency because install login user. but not loaded zshenv via pip module
  # pip: name="{{ item }}" state=present editable=false
  shell: "{{ execute }} pip install {{ item }}"  # noqa command-instead-of-shell
  with_items:
    - psutil
    - "--upgrade git+git://github.com/powerline/powerline"
